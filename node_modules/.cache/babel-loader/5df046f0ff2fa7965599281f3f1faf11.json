{"ast":null,"code":"import _slicedToArray from\"/Users/nikita/software-engineering-node/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Tuits from\"../tuits\";import*as service from\"../../services/tuits-service\";import{useEffect,useState}from\"react\";import{useLocation,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var location=useLocation();var _useParams=useParams(),uid=_useParams.uid;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tuits=_useState2[0],setTuits=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),tuit=_useState4[0],setTuit=_useState4[1];var userId=uid;var findTuits=function findTuits(){if(uid){return service.findTuitByUser(uid).then(function(tuits){return setTuits(tuits);});}else{return service.findAllTuits().then(function(tuits){return setTuits(tuits);});}};useEffect(function(){var isMounted=true;findTuits();return function(){isMounted=false;};},[]);var createTuit=function createTuit(){return service.createTuit(userId,{tuit:tuit}).then(findTuits);};var deleteTuit=function deleteTuit(tid){return service.deleteTuit(tid).then(findTuits);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ttr-home\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-bottom-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold p-2\",children:\"Home Screen\"}),uid&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"ttr-width-50px rounded-circle\",src:\"../images/nasa-logo.jpg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 w-100\",children:[/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return setTuit(e.target.value);},placeholder:\"What's happening?\",className:\"w-100 border-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-10 ttr-font-size-150pc text-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-portrait me-3\"}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-gif me-3\"}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-bar-chart me-3\"}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-face-smile me-3\"}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-calendar me-3\"}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-map-location me-3\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"a\",{onClick:createTuit,className:\"btn btn-primary rounded-pill fa-pull-right\\n                                  fw-bold ps-4 pe-4\",children:\"Tuit\"})})]})]})]})]}),/*#__PURE__*/_jsx(Tuits,{tuits:tuits,deleteTuit:deleteTuit})]});};export default Home;","map":{"version":3,"names":["React","Tuits","service","useEffect","useState","useLocation","useParams","Home","location","uid","tuits","setTuits","tuit","setTuit","userId","findTuits","findTuitByUser","then","findAllTuits","isMounted","createTuit","deleteTuit","tid","e","target","value"],"sources":["/Users/nikita/software-engineering-node/src/components/home/index.js"],"sourcesContent":["import React from \"react\";\nimport Tuits from \"../tuits\";\nimport * as service from \"../../services/tuits-service\";\nimport {useEffect, useState} from \"react\";\nimport {useLocation, useParams} from \"react-router-dom\";\n\nconst Home = () => {\n  const location = useLocation();\n  const {uid} = useParams();\n  const [tuits, setTuits] = useState([]);\n  const [tuit, setTuit] = useState('');\n  const userId = uid;\n  const findTuits = () => {\n    if(uid) {\n      return service.findTuitByUser(uid)\n        .then(tuits => setTuits(tuits))\n    } else {\n      return service.findAllTuits()\n        .then(tuits => setTuits(tuits))\n    }\n  }\n  useEffect(() => {\n    let isMounted = true;\n    findTuits()\n    return () => {isMounted = false;}\n  }, []);\n  const createTuit = () =>\n      service.createTuit(userId, {tuit})\n          .then(findTuits)\n  const deleteTuit = (tid) =>\n      service.deleteTuit(tid)\n          .then(findTuits)\n  return(\n    <div className=\"ttr-home\">\n      <div className=\"border border-bottom-0\">\n        <h4 className=\"fw-bold p-2\">Home Screen</h4>\n        {\n          uid &&\n          <div className=\"d-flex\">\n            <div className=\"p-2\">\n              <img className=\"ttr-width-50px rounded-circle\"\n                   src=\"../images/nasa-logo.jpg\"/>\n            </div>\n            <div className=\"p-2 w-100\">\n              <textarea\n                  onChange={(e) =>\n                      setTuit(e.target.value)}\n                placeholder=\"What's happening?\"\n                className=\"w-100 border-0\"></textarea>\n              <div className=\"row\">\n                <div className=\"col-10 ttr-font-size-150pc text-primary\">\n                  <i className=\"fas fa-portrait me-3\"></i>\n                  <i className=\"far fa-gif me-3\"></i>\n                  <i className=\"far fa-bar-chart me-3\"></i>\n                  <i className=\"far fa-face-smile me-3\"></i>\n                  <i className=\"far fa-calendar me-3\"></i>\n                  <i className=\"far fa-map-location me-3\"></i>\n                </div>\n                <div className=\"col-2\">\n                  <a onClick={createTuit}\n                     className={`btn btn-primary rounded-pill fa-pull-right\n                                  fw-bold ps-4 pe-4`}>\n                    Tuit\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        }\n      </div>\n      <Tuits tuits={tuits} deleteTuit={deleteTuit}/>\n    </div>\n  );\n};\nexport default Home;"],"mappings":"6HAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,UAAU,CAC5B,MAAO,GAAKC,QAAO,KAAM,8BAA8B,CACvD,OAAQC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,OAAQC,WAAW,CAAEC,SAAS,KAAO,kBAAkB,CAAC,wFAExD,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,GAAMC,SAAQ,CAAGH,WAAW,EAAE,CAC9B,eAAcC,SAAS,EAAE,CAAlBG,GAAG,YAAHA,GAAG,CACV,cAA0BL,QAAQ,CAAC,EAAE,CAAC,wCAA/BM,KAAK,eAAEC,QAAQ,eACtB,eAAwBP,QAAQ,CAAC,EAAE,CAAC,yCAA7BQ,IAAI,eAAEC,OAAO,eACpB,GAAMC,OAAM,CAAGL,GAAG,CAClB,GAAMM,UAAS,CAAG,QAAZA,UAAS,EAAS,CACtB,GAAGN,GAAG,CAAE,CACN,MAAOP,QAAO,CAACc,cAAc,CAACP,GAAG,CAAC,CAC/BQ,IAAI,CAAC,SAAAP,KAAK,QAAIC,SAAQ,CAACD,KAAK,CAAC,GAAC,CACnC,CAAC,IAAM,CACL,MAAOR,QAAO,CAACgB,YAAY,EAAE,CAC1BD,IAAI,CAAC,SAAAP,KAAK,QAAIC,SAAQ,CAACD,KAAK,CAAC,GAAC,CACnC,CACF,CAAC,CACDP,SAAS,CAAC,UAAM,CACd,GAAIgB,UAAS,CAAG,IAAI,CACpBJ,SAAS,EAAE,CACX,MAAO,WAAM,CAACI,SAAS,CAAG,KAAK,CAAC,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CACN,GAAMC,WAAU,CAAG,QAAbA,WAAU,SACZlB,QAAO,CAACkB,UAAU,CAACN,MAAM,CAAE,CAACF,IAAI,CAAJA,IAAI,CAAC,CAAC,CAC7BK,IAAI,CAACF,SAAS,CAAC,GACxB,GAAMM,WAAU,CAAG,QAAbA,WAAU,CAAIC,GAAG,QACnBpB,QAAO,CAACmB,UAAU,CAACC,GAAG,CAAC,CAClBL,IAAI,CAACF,SAAS,CAAC,GACxB,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,aAAK,SAAS,CAAC,wBAAwB,wBACrC,WAAI,SAAS,CAAC,aAAa,yBAAiB,CAE1CN,GAAG,eACH,aAAK,SAAS,CAAC,QAAQ,wBACrB,YAAK,SAAS,CAAC,KAAK,uBAClB,YAAK,SAAS,CAAC,+BAA+B,CACzC,GAAG,CAAC,yBAAyB,EAAE,EAChC,cACN,aAAK,SAAS,CAAC,WAAW,wBACxB,iBACI,QAAQ,CAAE,kBAACc,CAAC,QACRV,QAAO,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC9B,WAAW,CAAC,mBAAmB,CAC/B,SAAS,CAAC,gBAAgB,EAAY,cACxC,aAAK,SAAS,CAAC,KAAK,wBAClB,aAAK,SAAS,CAAC,yCAAyC,wBACtD,UAAG,SAAS,CAAC,sBAAsB,EAAK,cACxC,UAAG,SAAS,CAAC,iBAAiB,EAAK,cACnC,UAAG,SAAS,CAAC,uBAAuB,EAAK,cACzC,UAAG,SAAS,CAAC,wBAAwB,EAAK,cAC1C,UAAG,SAAS,CAAC,sBAAsB,EAAK,cACxC,UAAG,SAAS,CAAC,0BAA0B,EAAK,GACxC,cACN,YAAK,SAAS,CAAC,OAAO,uBACpB,UAAG,OAAO,CAAEL,UAAW,CACpB,SAAS,kGACuB,kBAE/B,EACA,GACF,GACF,GACF,GAEJ,cACN,KAAC,KAAK,EAAC,KAAK,CAAEV,KAAM,CAAC,UAAU,CAAEW,UAAW,EAAE,GAC1C,CAEV,CAAC,CACD,cAAed,KAAI"},"metadata":{},"sourceType":"module"}