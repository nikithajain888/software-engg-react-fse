{"ast":null,"code":"import _objectSpread from\"/Users/nikita/software-engineering-node/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nikita/software-engineering-node/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import*as service from\"../../services/users-service\";import React from\"react\";import{UserList}from\"./user-list\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),existingUsers=_useState2[0],setExistingUsers=_useState2[1];// {username: 'user1', email: 'user1', password: 'user1', _id: '123'}\n// ]);\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),newUser=_useState4[0],setNewUser=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),loginUser=_useState6[0],setLoginUser=_useState6[1];// const navigate = useNavigate()\nvar uuu=[{username:'ellen_ripley',email:'ellen_ripley',password:'ellen_ripley',_id:'123'},{username:'sarah',email:'ellen_ripley',password:'ellen_ripley',_id:'234'}];var deleteUser=function deleteUser(uid){return service.deleteUser(uid).then(findAllUsers);};var findAllUsers=function findAllUsers(){return service.findAllUsers().then(function(users){setExistingUsers(users);});};var register=function register(){return service.createUser(newUser).then(findAllUsers);};var login=function login(){return service.findUserByCredentials(loginUser).then(function(user){//navigate(`/home/${user._id}`)\n});};useEffect(findAllUsers,[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setNewUser(_objectSpread(_objectSpread({},newUser),{},{username:e.target.value}));},placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setNewUser(_objectSpread(_objectSpread({},newUser),{},{password:e.target.value}));},placeholder:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setNewUser(_objectSpread(_objectSpread({},newUser),{},{email:e.target.value}));},placeholder:\"email\",type:\"email\"}),/*#__PURE__*/_jsx(\"button\",{onClick:register,className:\"btn btn-primary mb-5\",children:\"Register\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setLoginUser(_objectSpread(_objectSpread({},loginUser),{},{username:e.target.value}));},placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setLoginUser(_objectSpread(_objectSpread({},loginUser),{},{password:e.target.value}));},placeholder:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"btn btn-primary mb-5\",children:\"Login\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Login As\"}),/*#__PURE__*/_jsx(UserList,{users:existingUsers,deleteUser:deleteUser})]});};","map":{"version":3,"names":["Link","useNavigate","useEffect","useState","service","React","UserList","Login","existingUsers","setExistingUsers","newUser","setNewUser","loginUser","setLoginUser","uuu","username","email","password","_id","deleteUser","uid","then","findAllUsers","users","register","createUser","login","findUserByCredentials","user","e","target","value"],"sources":["/Users/nikita/software-engineering-node/src/components/profile/login.js"],"sourcesContent":["import {Link, useNavigate} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport * as service from \"../../services/users-service\";\nimport React from \"react\";\nimport {UserList} from \"./user-list\";\n\nexport const Login = () => {\n  const [existingUsers, setExistingUsers] = useState([]);\n    // {username: 'user1', email: 'user1', password: 'user1', _id: '123'}\n  // ]);\n  const [newUser, setNewUser] = useState({});\n  const [loginUser, setLoginUser] = useState({});\n  // const navigate = useNavigate()\n\n  const uuu = [\n    {username: 'ellen_ripley', email: 'ellen_ripley', password: 'ellen_ripley', _id: '123'},\n    {username: 'sarah', email: 'ellen_ripley', password: 'ellen_ripley', _id: '234'}\n  ]\n\n  const deleteUser = (uid) =>\n    service.deleteUser(uid)\n      .then(findAllUsers)\n  const findAllUsers = () =>\n    service.findAllUsers()\n      .then(users => {\n        setExistingUsers(users)\n      })\n  const register = () =>\n    service.createUser(newUser)\n      .then(findAllUsers);\n  const login = () =>\n    service.findUserByCredentials(loginUser)\n      .then((user) => {\n        //navigate(`/home/${user._id}`)\n      });\n  useEffect(findAllUsers, []);\n  return (\n    <div>\n      <h1>Register</h1>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setNewUser({...newUser, username: e.target.value})}\n             placeholder=\"username\"/>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setNewUser({...newUser, password: e.target.value})}\n             placeholder=\"password\" type=\"password\"/>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setNewUser({...newUser, email: e.target.value})}\n             placeholder=\"email\" type=\"email\"/>\n      <button onClick={register} className=\"btn btn-primary mb-5\">Register\n      </button>\n\n      <h1>Login</h1>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setLoginUser({...loginUser, username: e.target.value})}\n             placeholder=\"username\"/>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setLoginUser({...loginUser, password: e.target.value})}\n             placeholder=\"password\" type=\"password\"/>\n      <button onClick={login} className=\"btn btn-primary mb-5\">Login</button>\n\n      <h1>Login As</h1>\n\n      <UserList users={existingUsers} deleteUser={deleteUser}/>\n\n    </div>\n  );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}